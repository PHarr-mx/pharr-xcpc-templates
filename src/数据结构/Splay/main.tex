\section{Splay}

\subsection{普通平衡树}

您需要写一种数据结构，来维护一些数，其中需要提供以下操作：
\begin{enumerate}
    \item 插入一个数 $x$。
    \item 删除一个数 $x$（若有多个相同的数，应只删除一个）。
    \item 定义\textbf{排名}为比当前数小的数的个数 $+1$。查询 $x$ 的排名。
    \item 查询数据结构中排名为 $x$ 的数。
    \item 求 $x$ 的前驱（前驱定义为小于 $x$，且最大的数）。
    \item 求 $x$ 的后继（后继定义为大于 $x$，且最小的数）。
\end{enumerate}
对于操作 3,5,6，\textbf{不保证}当前数据结构中存在数 $x$。

\lstinputlisting[]{数据结构/Splay/Splay1.cpp}

\subsection{文艺平衡树}
您需要写一种数据结构（可参考题目标题），来维护一个有序数列。

其中需要提供以下操作：翻转一个区间，例如原有序序列是 $5\ 4\ 3\ 2\ 1$，翻转区间是 $[2,4]$ 的话，结果是 $5\ 2\ 3\ 4\ 1$。

\lstinputlisting[]{数据结构/Splay/Splay2.cpp}